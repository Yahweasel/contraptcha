<!doctype html>
<!--
 * Copyright (c) 2024, 2025 Yahweasel
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED “AS IS” AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY
 * SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER
 * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF
 * CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN
 * CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
-->
<html prefix="og: https://ogp.me/ns#">
    <head>
        <meta charset="utf8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Poetcha</title>
        <link rel="stylesheet" href="poetcha.css?v=3" />

        <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png" />
        <link rel="manifest" href="/favicon/site.webmanifest" />
        <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5" />
        <meta name="msapplication-TileColor" content="#da532c" />
        <meta name="theme-color" content="#ffffff" />

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css" />

	<!--OG-->
    </head>
    <body>
        <div id="ad1box" class="sadbox">
            <a id="ad1a" target="_blank">
                <img id="ad1" class="sad" style="display: none;" />
            </a>
        </div>
        <div id="ad2box" class="sadbox">
            <a id="ad2a" target="_blank">
                <img id="ad2" class="sad" style="display: none;" />
            </a>
        </div>
        <div id="main" style="display: none;">
            <div id="maingame">
                <div>
                    <div class="poemrow row">
                        <div class="poembox" id="poem1"></div>
                        <div class="poembox" id="poem2"></div>
                    </div>
                    <div class="poemrow row">
                        <div class="poembox" id="poem3"></div>
                        <div class="poembox" id="poem4"></div>
                    </div>
                </div>
                <div class="wordguessrow row">
                    <div class="wordguesshalfrow">
                        <div class="wordguess" id="wg1"></div>
                        <div class="wordguess" id="wg2"></div>
                        <div class="wordguess" id="wg3"></div>
                    </div>
                    <div class="wordguesshalfrow">
                        <div class="wordguess" id="wg4"></div>
                        <div class="wordguess" id="wg5"></div>
                        <div class="wordguess" id="wg6"></div>
                    </div>
                </div>
                <div class="inputrow row">
                    <input type="text" id="wordinput" />
                    <div id="scoredisplay"></div>
                </div>
            </div>
            <div class="btnrow row">
                <button id="menubtn" class="mainbtn">Game</button>
                <button id="hintbtn" class="mainbtn">Hint</button>
                <button id="creditsbtn" class="mainbtn">Credits</button>
                <button id="communitybtn" class="mainbtn">Community</button>
            </div>

            <div id="ad3box" class="badbox">
                <a id="ad3a" target="_blank">
                    <img id="ad3" class="bad" style="display: none;" />
                </a>
            </div>
        </div>

        <div id="panelguard"></div>

        <div id="panelbox1">
            <div id="panelbox2">
                <div id="panelbox3">
                    <div id="loadingpanel" class="panel">
                        <h2>Loading...</h2>
                    </div>
                </div>
            </div>
        </div>

        <div style="display: none;">
            <div id="intropanel" class="panel">
                <button class="close" aria-label="Close"><i class="bx bx-x"></i></button>

                <p>Welcome to Poetcha, the AI poetry puzzle game! WARNING: AI-generated poems may be problematic or troubling.</p>

                <p>Poems are generated from six nouns, without using the nouns. Identify a word to remove it from the generated poems. AI is stupid and bad at everything, so think creatively!</p>

                <p>If you guess a wrong word you'll see how close it is. Click a word to “peek” and remove it from the images. Click “hint” to get a related word, but it'll cost you points.</p>

                <p>There's a new puzzle every day, and lots of other puzzles too.</p>
            </div>

            <div id="helppanel" class="panel">
                <button class="close" aria-label="Close"><i class="bx bx-x"></i></button>

                <h2>What is this???</h2>

                <p>This is Poetcha, the word and AI poetry game no one asked for! It's a derivative of <a href="https://contraptcha.com/">Contraptcha</a>, which is largely the same but with images.</p>

                <p>
                    (WARNING: These poems are AI generated. Some may be racist,
                    erotic, troubling, or anything else.)
                </p>

                <p>
                    Poetcha is a word puzzle game inspired by AI. In this game,
                    you're presented with four poems that AI have generated from
                    the same prompt. The prompt is simply a sequence of English
                    nouns, with instructions not to use the nouns directly in
                    the poems. Every time you find one of the words, that's
                    removed from the prompt, so you see the poems generated with
                    one word less. Your goal is, of course, to find every word.
                </p>

                <p>
                    Remember: AI is stupid and bad at everything, so you may
                    have to think outside the box.
                </p>

                <p>
                    If you enter a word that's not part of the prompt, a
                    “semantic similarity” will be shown for whichever word it's
                    most similar to. For instance, if the word is “space” and
                    you enter “stars”, you'll get a high semantic similarity,
                    whereas if the word is “pig” and you enter “stars”, you'll
                    get a low semantic similarity.
                </p>

                <p>
                    You can “peek” through any word, showing how the poems
                    would be generated without any one of the words you don't
                    know. Click the word's guess box (the question marks), or
                    enter a number from 1–6. What you're doing is
                    <em>removing</em> a word, so if you remove word 4 and all
                    mention of stars disappears, that means word 4 probably
                    <em>is</em> star or stars!
                </p>

                <p>
                    When you only have one word left, you can do the opposite:
                    re-add any other word to the displayed poems. This means
                    that when you have only one word left, you can pair it with
                    any of the words you already know.
                </p>

                <p>
                    If you're stumped, you can let the game guess a random word
                    for you by clicking the “hint” button or typing “/hint”.
                    But, your score will be penalized!
                </p>

                <p>
                    You start with 100 points and lose them when you make
                    incorrect guesses. The closer the guess is to correct, the
                    fewer points you lose (you can lose 0 if it's very close!).
                    When you use a hint, you lose three times the tens place of
                    the hint's similarity in points. Oh, and your points can go
                    negative! If you restart a game, you do get to restart from
                    100 points, but your score will be shown with an asterisk.
                </p>

                <!--
                <p>
                    There's a puzzle of the day every day, and lots of other
                    (not “of-the-day”) puzzles to play too!
                </p>
                -->
            </div>

            <div id="communitypanel" class="panel">
                <button class="close" aria-label="Close"><i class="bx bx-x"></i></button>

                <h2>Community</h2>

                <a href="https://discord.gg/AMCwbZRP4y" class="mainbtn menubtn" target="_blank"><i class="bx bxl-discord"></i> Discord &amp; league play</a>
                <a href="/" class="mainbtn menubtn" target="_blank">Contraptcha (Poetcha but images)</a>
                <a href="https://github.com/Yahweasel/contraptcha/" class="mainbtn menubtn" target="_blank">Source code</a>
            </div>

            <div id="creditspanel" class="panel">
                <button class="close" aria-label="Close"><i class="bx bx-x"></i></button>

                <h2>Credits</h2>

                <p>Poetcha is part of Contraptcha, and is <a href="https://github.com/Yahweasel/contraptcha">open source</a>. Contraptcha and Poetcha were written by <a href="https://github.com/Yahweasel">Yahweasel</a>. If you have an ideas or improvements, by all means, contact Yahweasel!</p>

                <p>Poems in this puzzle generated by <span id="creditsbox"></span>. <!--Generated “ads” use SDXL with <a href="https://civitai.com/models/210583/advertising-style-xl">Advertising Style XL</a>.--></p>

                <p>Semantic difference is calculated by <a href="https://code.google.com/archive/p/word2vec/">word2vec</a>.</p>

                <p>Thanks to Wordle and Semantle for inspiration.</p>
            </div>

            <div id="menupanel" class="panel">
                <button class="close" aria-label="Close"><i class="bx bx-x"></i></button>
                <button id="restartbtn" class="mainbtn menubtn">Restart puzzle</button>
                <button id="dailybtn" class="mainbtn menubtn">Today’s puzzle</button>
                <button id="dailiesbtn" class="mainbtn menubtn">Past daily puzzles</button>
                <button id="newbtn" class="mainbtn menubtn">Random puzzle</button>
                <button id="statsbtn" class="mainbtn menubtn">All puzzles</button>
                <button id="copystatsbtn" class="mainbtn menubtn">Copy stats</button>
                <button id="giveupbtn" class="mainbtn menubtn">Give up</button>
                <button id="helpbtn" class="mainbtn menubtn">Help</button>
                <button id="introbtn" class="mainbtn menubtn">Introduction</button>
            </div>

            <div id="dailypanel" class="panel">
                <button class="close" aria-label="Close"><i class="bx bx-x"></i></button>
                <input id="dailyinp" type="date" class="dateinp" />
            </div>

            <div id="messagepanel" class="panel">
                <button class="close" aria-label="Close"><i class="bx bx-x"></i></button>
                <p id="messagepanelmessage"></p>
            </div>

            <div id="statspanel" class="panel">
                <button class="close" aria-label="Close"><i class="bx bx-x"></i></button>
                <div id="statspanelinner"></div>
            </div>
        </div>

        <div id="imgpanel" style="display: none;">
            <img id="imgpanelimg" />
        </div>

        <script src="https://cdn.jsdelivr.net/npm/localforage@1.10.0/dist/localforage.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/text-metrics@4.0.1/dist/text-metrics.js"></script>
        <script type="text/javascript" src="/assets/libs/yalap-1.0.2-unxz.js"></script>
        <script type="text/javascript" src="poetcha.js?v=4"></script>
    </body>
</html>
